{"version":3,"file":"bundle.js","sources":["../node_modules/@vessel/common/utils/src/utilities.ts","../node_modules/@vessel/boot/src/app/app.ts","../node_modules/@vessel/core/src/base/model/proxy.ts","../node_modules/@vessel/core/src/base/model/model.ts","../node_modules/@vessel/common/decorators/src/attr.ts","../src/Model/TodoModel.ts","../src/main.ts"],"sourcesContent":["export function getDate() {\n\tconsole.log('Get date!');\n}\n\nexport function checkDate() {\n\tconsole.log('checkDate!');\n}\n\nexport function isSupported( feature ) {\n\treturn typeof feature == 'function';\n}\n\nexport function defineProp( obj, prop, getter, setter ) {\n    let descriptor = {\n        enumerable: false,\n        configurable: true,\n        set: setter,\n        get: getter\n    }\n    Object.defineProperty( obj, prop, descriptor );\n}","import { isSupported } from '../../../common/utils/src/utilities';\nimport { WindowInterface } from './interfaces';\n\nexport class App {\n\n\tpublic container;\n\n\tpublic browserBoot(): App {\n\t\t(<WindowInterface>window).$Vessel = this;\n\t\tthis.detectBrowserFeatures()\n\t\t\t.loadContainer();\n\t\treturn this;\n\t}\n\n\tprivate detectBrowserFeatures(): App {\n\t\t(<WindowInterface>window).$Vessel.can = {\n\t\t\tWeakMap: isSupported( (<any>window).WeakMap )\n\t\t}\n\t\treturn this;\n\t}\n\n\t// TODO - WeakMap fallback\n\tprivate loadContainer(): App {\n\t\t this.container =\n             (<WindowInterface>window).$Vessel.can.WeakMap ?\n                 new WeakMap() :\n                 \"Dev: WeakMap fallback - work in progress\";\n\t\treturn this;\n\t}\n}","import { defineProp } from '../../../../common/utils/src/utilities';\n\nexport class AttribProxy {\n\n    public data = <any>{};\n\n    public addAttribute( name ) {\n        this.data[name] = \"\";\n        defineProp(this, name,\n            function getter() {\n                return this.data[name];\n            },\n            function setter( value ) {\n                this.data[name] = value;\n            }\n        )\n    }\n\n}","import { AttribProxy } from './proxy';\nimport { ModelInterface } from \"../interfaces\";\n\n\nexport class Model implements ModelInterface {\n\n    public __metadata__ = [];\n    protected attr: any;\n\n    public constructor() {\n        this._createProxy();\n    }\n\n    public set( attribs ) {\n        for (let attrib in attribs) {\n            this.attr[attrib] = attribs[attrib];\n        }\n    }\n\n    protected _createProxy() {\n        this.attr = new AttribProxy();\n        for (let attrName of this.__metadata__) {\n            this.attr.addAttribute(attrName);\n        }\n    }\n\n}\n\n// Metadata needs to be directly declared\n// so it already exists in the prototype\n// when the decorator runs.\n// Model.prototype.__metadata__ = [];","\nexport function attr( modelPrototype, attribName ) {\n    modelPrototype.__metadata__.push( attribName );\n}","import { Model as BaseModel } from '@vessel/core';\nimport { attr } from '@vessel/common/decorators';\n\nexport class TodoModel extends BaseModel {\n\n    @attr\n    public author;\n\n    @attr\n    public body;\n\n    @attr\n    public date;\n\n    constructor(author, body ) {\n        super();\n        this.set({\n            author: author,\n            body: body\n        })\n    }\n\n    getAuthor() {\n        return this.attr.author;\n    }\n\n    setAuthor( value ) {\n        this.attr.author = value;\n    }\n\n    getBody() {\n        return this.attr.body;\n    }\n\n    setBody( value ) {\n        this.attr.body = value;\n    }\n\n}","import { App } from '@vessel/boot';\nimport { TodoModel } from './Model/TodoModel';\n\nconst app: any = new App().browserBoot();\napp.x = new TodoModel('pedro', 'body 1');\napp.y = new TodoModel('alex', 'body 2');"],"names":["BaseModel"],"mappings":"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"}